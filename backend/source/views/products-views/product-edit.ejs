<%- include ("../partials/head") -%>
    <form action="/products/update?_method=PUT" method="post" enctype="multipart/form-data">

        <main class="main-newProduct">
            <h2>Editando:
                <%= locals.product.name%>
            </h2>
            <div class="container">

                <!--El sieguiente fieldset es porque se deben de igual forma mandar todos los datos a la base de datos... entonces como el sku no lo debe ver el cliente... se coloca como de tipo hideen-->
                <fieldset>
                    <input type="hidden" name="sku" value="<%= locals.product.sku%>" />
                </fieldset>

                <section class="nombreProduct">
                    <label for="name">Nombre</label>
                    <input type="text" name="name" id="nameProduct" value="<%= locals.product.name %>" />

                    <span id="nameSpan"></span>          

                    <% if (locals.errores && locals.errores.name) { %>
                        <p class="feedback">
                            <%= locals.errores.name.msg %>
                        </p>
                        <% } %>
                </section>

                <section class="descripcionProduct">
                    <label for="description">Descripción</label>
                    <input type="text" name="description" id="description" value="<%= locals.product.description %>" />
                    
                    <span id="descriptionSpan"></span>

                    <% if (locals.errores && locals.errores.description) { %>
                        <p class="feedback">
                            <%= locals.errores.description.msg %>
                        </p>
                        <% } %>
                </section>

                <section class="precioProduct">
                    <label for="price">Precio</label>
                    <input type="number" name="price" id="price" value="<%= locals.product.price %>" />
                    
                    <span id="priceSpan"></span>

                    <% if (locals.errores && locals.errores.price) { %>
                        <p class="feedback">
                            <%= locals.errores.price.msg %>
                        </p>
                        <% } %>
                </section>

                <section class="categoriaProduct">
                    <label for="category">Categoría</label>
                    <select name="category" id="category">
                        <option value="">Seleccione una opción</option>

                        <option value="1" <%= (locals.product && locals.product.category_sku == "1") ? "selected" : "" %> >Todos</option>

                        <option value="2" <%= (locals.product && locals.product.category_sku == "2") ? "selected" : "" %> >Arreglos florales</option>

                        <option value="3" <%= (locals.product && locals.product.category_sku == "3") ? "selected" : "" %> >Globos y dulces</option>

                        <option value="4" <%= (locals.product && locals.product.category_sku == "4") ? "selected" : "" %> >Desayunos</option>
                    </select>
                    
                    <% if (locals.errores && locals.errores.category) { %>
                        <p class="feedback">
                            <%= locals.errores.category.msg %>
                        </p>
                        <% } %>
                </section>

                <section class="temporadaProduct">
                    <label for="season">Temporada</label>
                    <select name="season" id="season">
                        <option value="0">Seleccione una opción</option>
                        <option value="1" <%= (locals.product && locals.product.season_sku == "1") ? "selected" : "" %> >Todo el año</option>
                        <option value="2" <%= (locals.product && locals.product.season_sku == "2") ? "selected" : "" %> >Feliz día</option>
                        <option value="3" <%= (locals.product && locals.product.season_sku == "3") ? "selected" : "" %> >Amor</option>
                        <option value="4" <%= (locals.product && locals.product.season_sku == "4") ? "selected" : "" %> >Cumpleaños</option>
                        <option value="5" <%= (locals.product && locals.product.season_sku == "5") ? "selected" : "" %> >Día del padre</option>
                        <option value="6" <%= (locals.product && locals.product.season_sku == "6") ? "selected" : "" %> >Día de la madre</option>
                        <option value="7" <%= (locals.product && locals.product.season_sku == "7") ? "selected" : "" %> >Día del niño</option>
                    </select>
                    
                    <% if (locals.errores && locals.errores.season) { %>
                        <p class="feedback">
                            <%= locals.errores.season.msg %>
                        </p>
                        <% } %>
                </section>

                <section class="imagesProduct">
                    <label for="image">Ingresar imagen</label>
                    <input type="file" name="image" id="image" value="<%= locals.product.image%>" />

                    <span id="imageSpan"></span>

                    <% if (locals.errores && locals.errores.image) { %>
                        <p class="feedback">
                            <%= locals.errores.image.msg %>
                        </p>
                        <% } %>
                </section>

                <section class="botones">
                    <button type="submit">Actualizar</button>
                </section>

            </div>
        </main>
    </form>

    <!-- Aqui se colocan los scripts para validar los formularion en el front end -->
    <script src="/js/validaciones/validacion-product-update.js"></script>

    <%- include ('../partials/footer') -%>